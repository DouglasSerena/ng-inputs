<mat-form-field
  [color]="color"
  [appearance]="theme"
  [hideRequiredMarker]="!required"
  [floatLabel]="labelFixed ? 'always' : 'auto'"
>
  <!-- LABEL -->
  <mat-label *ngIf="label">{{ label }}</mat-label>
  <!-- ICON LEFT -->
  <ng-icon
    matPrefix
    [icon]="icon?.left"
    (iconClick)="handleClickIcon($event, rootRef, 'left')"
  ></ng-icon>

  <!-- PREFIX -->
  <span matPrefix *ngIf="!!prefix">{{ prefix }}</span>

  <textarea
    [id]="id"
    #rootRef
    matInput
    [type]="type"
    [rows]="rows"
    [cols]="cols"
    [readonly]="readonly"
    [required]="!!required"
    [formControl]="control"
    [attr.maxlength]="length"
    (blur)="handleBlur($event)"
    (focus)="handleFocus($event)"
    [attr.placeholder]="_placeholder"
    [tabIndex]="control.disabled ? -1 : 1"
  >
    <ng-content></ng-content>
  </textarea>

  <!-- SUFFIX -->
  <span matSuffix *ngIf="!!suffix">{{ suffix }}</span>

  <!-- DICA -->
  <mat-hint *ngIf="help && !(control.touched && control.invalid)">{{
    help
  }}</mat-hint>

  <!-- CONTADOR -->
  <mat-hint [align]="'end'" *ngIf="!!length">
    {{ rootRef?.value?.length }}/{{ length }}
  </mat-hint>

  <!-- MENSAGEM DE ERRO -->
  <mat-error>
    <ng-container *ngFor="let key of _errorsKeys">
      <span *ngIf="control.touched && control.hasError(key)">
        {{ _errors[key] }}
      </span>
    </ng-container>
  </mat-error>

  <!-- ICON RIGHT -->
  <ng-icon
    matSuffix
    [icon]="icon?.right"
    (iconClick)="handleClickIcon($event, rootRef, 'right')"
  ></ng-icon>
</mat-form-field>
