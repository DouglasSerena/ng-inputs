<dss-ng-base
  [readonly]="readonly"
  [required]="required"
  [control]="control"
  [label]="label"
  [errors]="errors"
  [field]="field"
  [htmlFor]="formControlName"
>
  <textarea
    #textarea
    class="form-control"
    [id]="name"
    [readonly]="readonly"
    [formControl]="control"
    [cols]="cols"
    (blur)="blur.emit($event)"
    (focus)="focus.emit($event)"
    [maxlength]="length"
    [ngStyle]="{
      height: rows + (configService.theme === 'materialize' ? 10 : 100) + 'px'
    }"
    [ngClass]="className"
  ></textarea>

  <div
    class="counter badge"
    [ngClass]="{
      floating: field === 'floating' && configService.theme === 'bootstrap',
      invalid: control.invalid && control.touched,
      errors: getKeys(errors).length > 0
    }"
  >
    {{ !!control.value ? control.value.length : 0 }}/{{ length }}
  </div>
</dss-ng-base>
